<!DOCTYPE html>
<html>
<head>
  <title>Live Token Display</title>
  <style>
    body { font-family: Arial; background: #222; color: #fff; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin:0; }
    h1 { font-size: 3em; color: #FFD700; margin-bottom: 30px; }
    .room { font-size: 2.5em; margin: 10px 0; padding: 15px 40px; background: #444; border-radius: 15px; min-width: 300px; text-align:center; }
  </style>
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>
<body>
  <h1>Current Tokens</h1>
  <div id="tokenContainer"></div>

  <script>
   const firebaseConfig = {
            apiKey: "AIzaSyC9FuNjWn8Up4JyjYbABEF2aNjO2bSXdfM",
            authDomain: "qr-scanner-4458e.firebaseapp.com",
            projectId: "qr-scanner-4458e",
            storageBucket: "qr-scanner-4458e.firebasestorage.app",
            messagingSenderId: "1099262112748",
            appId: "1:1099262112748:web:a18f206bcf893c894546c9",
            measurementId: "G-15WXNEPKS9"
        };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    const tokensRef = db.ref('tokens');

    const rooms = [1,2,3,4,5,6,7,8,9,10];
    const container = document.getElementById('tokenContainer');

    rooms.forEach(room => {
      const div = document.createElement('div');
      div.id = 'room-' + room;
      div.classList.add('room');
      div.textContent = `Room ${room}: 0`;
      container.appendChild(div);
    });

    tokensRef.on('value', snapshot => {
      const data = snapshot.val() || {};
      rooms.forEach(room => {
        const token = data[room] || 0;
        document.getElementById('room-' + room).textContent = `Room ${room}: ${token}`;
      });
    });
  </script>
</body>
</html>
