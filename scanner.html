<!DOCTYPE html>
<html>
<head>
  <title>QR Scanner</title>
  <script src="https://unpkg.com/html5-qrcode"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <style>
    body { font-family: Arial; text-align: center; margin: 0; padding: 0; }
    #reader { width: 90vw; height: 90vh; margin: auto; }
    h1 { margin-top: 20px; }
  </style>
</head>
<body>
  <h1>QR Scanner</h1>
  <div id="reader"></div>

  <script>
    // Paste your Firebase config here
    const firebaseConfig = {
  apiKey: "AIzaSyC9FuNjWn8Up4JyjYbABEF2aNjO2bSXdfM",
  authDomain: "qr-scanner-4458e.firebaseapp.com",
  projectId: "qr-scanner-4458e",
  storageBucket: "qr-scanner-4458e.firebasestorage.app",
  messagingSenderId: "1099262112748",
  appId: "1:1099262112748:web:a18f206bcf893c894546c9",
  measurementId: "G-15WXNEPKS9"
};

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    function saveScan(data) {
      db.collection("scans").add({
        text: data,
        time: new Date()
      });
    }

    function onScanSuccess(decodedText) {
      saveScan(decodedText);
      alert("Scanned: " + decodedText);
    }

    const html5QrCode = new Html5Qrcode("reader");
    html5QrCode.start(
      { facingMode: "environment" },
      { fps: 10, qrbox: { width: 350, height: 350 } },
      onScanSuccess
    );
  </script>
</body>
</html>
