<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Room Token Entry</title>
</head>
<body style="text-align:center; font-family:sans-serif; margin-top:50px;">
  <h1>Room Token Entry</h1>
  <div>
    <label>Room Number:</label>
    <input type="number" id="roomNumberInput" placeholder="Enter room number">
  </div>
  <div style="margin-top:20px;">
    <label>Token:</label>
    <input type="number" id="tokenInput" placeholder="Enter token">
    <button id="submitBtn">Submit</button>
  </div>
  <div id="status" style="margin-top:20px; color:green;"></div>

  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyC9FuNjWn8Up4JyjYbABEF2aNjO2bSXdfM",
      authDomain: "qr-scanner-4458e.firebaseapp.com",
      projectId: "qr-scanner-4458e",
      storageBucket: "qr-scanner-4458e.firebasestorage.app",
      messagingSenderId: "1099262112748",
      appId: "1:1099262112748:web:a18f206bcf893c894546c9",
      measurementId: "G-15WXNEPKS9"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    document.getElementById("submitBtn").onclick = () => {
      const room = document.getElementById("roomNumberInput").value.trim();
      const token = parseInt(document.getElementById("tokenInput").value);

      if (!room || isNaN(token)) {
        alert("Please enter room number and token");
        return;
      }

      db.collection("rooms").doc(room).set({ token })
        .then(() => {
          document.getElementById("status").innerText = `Token ${token} submitted for Room ${room}`;
        })
        .catch(err => console.error(err));
    };
  </script>
</body>
</html>
